(this["webpackJsonpcapstone-project"]=this["webpackJsonpcapstone-project"]||[]).push([[0],{26:function(e,t,c){},35:function(e,t,c){"use strict";c.r(t);var n=c(0),r=c.n(n),i=c(18),a=c.n(i),s=c(9),o=c(20),u=c(17),j=c(7),l=c(1),b=r.a.createContext("");function d(e){var t=Object(n.useState)([]),c=Object(j.a)(t,2),r=c[0],i=c[1],a=Object(n.useState)([]),s=Object(j.a)(a,2),d=s[0],O=s[1];return Object(n.useEffect)((function(){fetch("https://raw.githubusercontent.com/bobziroll/scrimba-react-bootcamp-images/master/images.json").then((function(e){return e.json()})).then((function(e){i(e)}))}),[]),Object(l.jsx)(b.Provider,{value:{allPhotos:r,toggleFavorite:function(e){var t=r.map((function(t){return t.id===e?Object(u.a)(Object(u.a)({},t),{},{isFavorite:!t.isFavorite}):t}));i(t)},addToCart:function(e){d.some((function(t){return t.id===e.id}))?O((function(t){return t.filter((function(t){return t.id!==e.id}))})):O((function(t){return[].concat(Object(o.a)(t),[e])}))},cartItems:d,setCartitems:O},children:e.children})}c(26);var O=function(){var e=Object(n.useContext)(b).cartItems;return Object(l.jsxs)("header",{children:[Object(l.jsx)(s.b,{to:"/",children:Object(l.jsx)("h2",{children:"Pic Some"})}),Object(l.jsx)(s.b,{to:"/cart",children:Object(l.jsx)("i",{className:"".concat(e.length>0?"ri-shopping-cart-fill":"ri-shopping-cart-line"," ri-fw ri-2x")})})]})},m=c(2);var h=function(){var e=Object(n.useState)(!1),t=Object(j.a)(e,2),c=t[0],r=t[1],i=Object(n.useRef)(null);function a(){r(!0)}function s(){r(!1)}return Object(n.useEffect)((function(){var e=i.current;return e.addEventListener("mouseenter",a),e.addEventListener("mouseleave",s),function(){e.removeEventListener("mouseenter",a),e.removeEventListener("mouseleave",s)}}),[]),[c,i]};var f=function(e){var t=e.item,c=h(),r=Object(j.a)(c,2),i=r[0],a=r[1],s=Object(n.useContext)(b).addToCart,o=Object(l.jsx)("i",{ref:a,onClick:function(){return s(t)},className:i?"ri-delete-bin-fill":"ri-delete-bin-line"});return Object(l.jsxs)("main",{className:"cart-item",children:[o,Object(l.jsx)("img",{src:t.url,width:"130px",alt:"article"}),Object(l.jsx)("p",{children:"$4.99"})]})};var x=function(){var e=Object(n.useState)("Place Order"),t=Object(j.a)(e,2),c=t[0],r=t[1],i=Object(n.useContext)(b),a=i.cartItems,s=i.setCartitems,o=a.map((function(e,t){return Object(l.jsx)(f,{item:e},e.id)})),u=4.99*a.length;return Object(l.jsxs)("main",{className:"cart-page",children:[Object(l.jsx)("h1",{children:"Check out"}),o,Object(l.jsxs)("p",{className:"total-cost",children:["Total:"," ",u.toLocaleString("en-US",{style:"currency",currency:"USD"})]}),Object(l.jsx)("div",{className:"order-button",children:a.length>0?Object(l.jsx)("button",{onClick:function(){return r("Loading..."),void setTimeout((function(){r("Order Placed!"),s([])}),3e3)},children:c}):Object(l.jsx)("p",{children:'"You have no items in your cart."'})})]})};var v=function(e){var t=e.className,c=e.img,r=Object(n.useState)(!1),i=Object(j.a)(r,2),a=i[0],s=i[1],o=Object(n.useContext)(b).toggleFavorite,u=Object(n.useContext)(b),d=u.addToCart,O=u.cartItems,m=a&&Object(l.jsx)("i",{onClick:function(){return o(c.id)},className:"".concat(c.isFavorite?"ri-heart-fill":"ri-heart-line"," favorite")}),h=a&&Object(l.jsx)("i",{onClick:function(){return d(c)},className:"".concat(O.some((function(e){return e.id===c.id}))?"ri-shopping-cart-fill":"ri-add-circle-line"," cart")});return Object(l.jsxs)("div",{onMouseEnter:function(){return s(!0)},onMouseLeave:function(){return s(!1)},className:"".concat(t," image-container"),children:[Object(l.jsx)("img",{src:c.url,className:"image-grid",alt:"main-page-element"}),m,h]})};var p=function(){var e=Object(n.useContext)(b).allPhotos;return Object(l.jsx)("main",{className:"photos",children:e.map((function(e,t){return Object(l.jsx)(v,{img:e,className:(c=t,c%5===0?"big":c%6===0?"wide":void 0)},e.id);var c}))})};var g=function(){return Object(l.jsxs)("div",{children:[Object(l.jsx)(O,{}),Object(l.jsxs)(m.c,{children:[Object(l.jsx)(m.a,{exact:!0,path:"/",children:Object(l.jsx)(p,{})}),Object(l.jsx)(m.a,{exact:!0,path:"/cart",children:Object(l.jsx)(x,{})})]})]})};a.a.render(Object(l.jsx)(d,{children:Object(l.jsx)(s.a,{children:Object(l.jsx)(g,{})})}),document.getElementById("root"))}},[[35,1,2]]]);
//# sourceMappingURL=main.6d12e5fc.chunk.js.map